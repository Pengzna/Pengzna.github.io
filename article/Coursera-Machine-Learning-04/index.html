<!DOCTYPE html>
<html lang="en">

  <head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="keywords" content="Pengzna,blog" />
  <meta name="author" content="Pengzna" />
  <meta name="description" content="Pengzna çš„åšå®¢" />
  
  
  <title>
    
      Coursera: ML04-é«˜çº§ç®—æ³•ä¸å·¥ç¨‹ 
      
      
    
  </title>

  
    <link rel="apple-touch-icon" href="/images/favicon.png">
    <link rel="icon" href="/images/favicon.png">
  

  <!-- Raleway-Font -->
  <link href="https://fonts.googleapis.com/css?family=Montserrat|Roboto:400,400italic,600|Roboto+Mono" rel="stylesheet">

  <!-- hexo site css -->
  
<link rel="stylesheet" href="/css/base.css">
<link rel="stylesheet" href="/css/common.css">
<link rel="stylesheet" href="/iconfont/iconfont.css">


  

  
    
<link rel="stylesheet" href="/css/post.css">

  

  <!-- jquery3.3.1 -->
  <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>

  <!-- fancybox -->
  <link href="https://cdn.bootcss.com/fancybox/3.5.2/jquery.fancybox.min.css" rel="stylesheet">
  <script async src="https://cdn.bootcss.com/fancybox/3.5.2/jquery.fancybox.min.js"></script>
  
<script src="/js/fancybox.js"></script>


<meta name="generator" content="Hexo 7.0.0"><!-- hexo-inject:begin --><!-- hexo-inject:end --></head>


  <body>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="app">
      <div class="header">
  <a href="/">Pengzna's blog ğŸ‘‹</a>
</div>


      <p class="links">
  
    <a title="archives" target="" href="/archives/">
      <i class="iconfont icon-bookmark"></i>
    </a>
  
    <a title="github" target="_blank" href="https://github.com/Pengzna">
      <i class="iconfont icon-github"></i>
    </a>
  
    <a title="email" target="_blank" href="mailto:junzhi.pengzna@gmail.com">
      <i class="iconfont icon-envelope"></i>
    </a>
  
    <a title="linkedin" target="_blank" href="https://www.linkedin.com/in/pengzna/">
      <i class="iconfont icon-linkedin"></i>
    </a>
  
    <a title="wechat" target="_blank" href="https://peng-img.oss-cn-shanghai.aliyuncs.com/markdown-img/image-20231115013033249.png">
      <i class="iconfont icon-wechat"></i>
    </a>
  
</p>


      <div class="main">
        <!-- æ–‡ç« è¯¦æƒ…é¡µï¼Œå±•ç¤ºæ–‡ç« å…·ä½“å†…å®¹ï¼Œurlå½¢å¼ï¼šhttps://yoursite/æ–‡ç« æ ‡é¢˜/ -->
<!-- åŒæ—¶ä¸ºã€Œæ ‡ç­¾tagã€ï¼Œã€Œæœ‹å‹friendã€ï¼Œã€Œåˆ†ç±»categoriesã€ï¼Œã€Œå…³äºaboutã€é¡µé¢çš„æ‰¿è½½é¡µé¢ï¼Œå…·ä½“å±•ç¤ºå–å†³äºpage.type -->

<!-- LaTex Display -->
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
</script>
<script>
  MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']]
    }
  };
</script>

<div class="post">
  <h3 class="date">
    May 23, 2022
  </h3>
  <h1>
    Coursera: ML04-é«˜çº§ç®—æ³•ä¸å·¥ç¨‹
  </h1>
  <div class="content markdown-body">
    <h1 id="é«˜çº§ç®—æ³•ä¸å·¥ç¨‹"><a href="#é«˜çº§ç®—æ³•ä¸å·¥ç¨‹" class="headerlink" title="é«˜çº§ç®—æ³•ä¸å·¥ç¨‹"></a>é«˜çº§ç®—æ³•ä¸å·¥ç¨‹</h1><p>Machine Learning - Android Ng</p>
<img src="https://peng-img.oss-cn-shanghai.aliyuncs.com/markdown-img/image-20221005220433978.png" alt="image-20221005220433978" />

<h2 id="4-1-è¯„ä»·-ml-ç³»ç»Ÿ"><a href="#4-1-è¯„ä»·-ml-ç³»ç»Ÿ" class="headerlink" title="4.1. è¯„ä»· ml ç³»ç»Ÿ"></a>4.1. è¯„ä»· ml ç³»ç»Ÿ</h2><ul>
<li>è®¡ç®—æµ‹è¯•è¯¯å·®çš„å‡½æ•°å°±æ˜¯å‡å»æ­£åˆ™åŒ–é¡¹çš„æŸå¤±å‡½æ•°</li>
</ul>
<p><img src="https://peng-img.oss-cn-shanghai.aliyuncs.com/markdown-img/image-20220912140823902.png" alt="image-20220912140823902"></p>
<p><img src="https://peng-img.oss-cn-shanghai.aliyuncs.com/markdown-img/image-20220912141619989.png" alt="image-20220912141619989"></p>
<h3 id="4-1-1-é€‰æ‹©æ¨¡å‹"><a href="#4-1-1-é€‰æ‹©æ¨¡å‹" class="headerlink" title="4.1.1. é€‰æ‹©æ¨¡å‹"></a>4.1.1. é€‰æ‹©æ¨¡å‹</h3><ul>
<li>æŠŠæ•°æ®é›†åˆ†ä¸ºè®­ç»ƒé›†ã€æµ‹è¯•é›†å’Œäº¤å‰éªŒè¯é›†<ul>
<li>ä¸­å¿ƒæ€æƒ³ï¼šæ›´åŠ å…¬å¹³ï¼ˆä¸æ˜¯æ›´åŠ å‡†ç¡®ï¼‰</li>
</ul>
</li>
<li>å…ˆé€‰æ‹©äº¤å‰éªŒè¯è¯¯å·®æœ€å°çš„æ¨¡å‹</li>
<li>å¯ä»¥ä½¿ç”¨æµ‹è¯•é›†è¯¯å·®æ¥ä»£è¡¨æ³›åŒ–è¯¯å·®ï¼Œè¯„ä¼°æ¨¡å‹çš„æ³›åŒ–è¯¯å·®</li>
</ul>
<p><img src="https://peng-img.oss-cn-shanghai.aliyuncs.com/markdown-img/image-20220912143933334.png" alt="image-20220912143933334"></p>
<p><em>è®­ç»ƒé›†åœ¨ä¸åŒçš„æ¨¡å‹ä¸Šæ‹Ÿåˆå‡ºæ¯ä¸ªæ¨¡å‹çš„æœ€ä¼˜ WB_ï¼Œ_äº¤å‰éªŒè¯é›†ç”¨æ¥é€‰æ‹©ä¸åŒçš„æ¨¡å‹_ï¼Œ_æµ‹è¯•é›†ç”¨æ¥æ£€éªŒè¯¥æ¨¡å‹çš„å¥½åæ•ˆæœï¼ˆè¯¯å·®ï¼‰</em></p>
<h3 id="4-1-2-è¯Šæ–­æ¨¡å‹"><a href="#4-1-2-è¯Šæ–­æ¨¡å‹" class="headerlink" title="4.1.2. è¯Šæ–­æ¨¡å‹"></a>4.1.2. è¯Šæ–­æ¨¡å‹</h3><ul>
<li><p>å¦‚ä½•å†³å®šç¬¬äºŒæ­¥åšä»€ä¹ˆï¼Œä»¥æé«˜å­¦ä¹ çš„æ•ˆæœ</p>
</li>
<li><p>æ–¹æ³•ï¼šè§‚å¯Ÿç®—æ³•çš„åå·®å’Œæ–¹å·®ï¼ˆBias and Varianceï¼‰</p>
</li>
<li><p>$J_{train}$å¾ˆé«˜æ—¶ï¼Œå¾€å¾€æ„å‘³ç€ Bias é«˜ï¼ˆæ¬ æ‹Ÿåˆï¼‰</p>
</li>
<li><p>$J_{cv}$é«˜æ—¶ï¼Œä¸”$J_{cv}$æ¯”$J_{train}$é«˜å¾ˆå¤šæ—¶ï¼Œå¾€å¾€æ„å‘³ç€ Variance é«˜ï¼ˆè¿‡æ‹Ÿåˆï¼‰</p>
</li>
</ul>
<p>$J_{cv}$å’Œ$J_{train}$éƒ½æ¯”è¾ƒä½æ—¶ï¼Œæ˜¯æ¯”è¾ƒç†æƒ³çš„</p>
<p><img src="https://peng-img.oss-cn-shanghai.aliyuncs.com/markdown-img/image-20220912145232640.png" alt="image-20220912145232640"></p>
<h3 id="4-1-4-é€‰æ‹©æ­£åˆ™åŒ–å‚æ•°-Î»"><a href="#4-1-4-é€‰æ‹©æ­£åˆ™åŒ–å‚æ•°-Î»" class="headerlink" title="4.1.4. é€‰æ‹©æ­£åˆ™åŒ–å‚æ•° Î»"></a>4.1.4. é€‰æ‹©æ­£åˆ™åŒ–å‚æ•° Î»</h3><p>Î» ~ w çš„å€¼ ~ J</p>
<ul>
<li>æµ‹è¯•è¿‡ç¨‹å¦‚ä¸‹ï¼Œé€‰æ‹©$J_{cv}$æœ€å°çš„æ¨¡å‹</li>
</ul>
<p><img src="https://peng-img.oss-cn-shanghai.aliyuncs.com/markdown-img/image-20220912150559968.png" alt="image-20220912150559968"></p>
<ul>
<li>Î» å’Œ$J$çš„å…³ç³»</li>
</ul>
<p><img src="https://peng-img.oss-cn-shanghai.aliyuncs.com/markdown-img/image-20220912150827232.png" alt="image-20220912150827232"></p>
<h3 id="4-1-4-å¦‚ä½•è¯„ä»·æ¨¡å‹é”™è¯¯ç‡"><a href="#4-1-4-å¦‚ä½•è¯„ä»·æ¨¡å‹é”™è¯¯ç‡" class="headerlink" title="4.1.4. å¦‚ä½•è¯„ä»·æ¨¡å‹é”™è¯¯ç‡"></a>4.1.4. å¦‚ä½•è¯„ä»·æ¨¡å‹é”™è¯¯ç‡</h3><ul>
<li>ä¸å…¶ç›´æ¥çœ‹è¯¯å·®ï¼Œä¸å¦‚ä»¥äººç±»æ°´å¹³ä¸ºåŸºå‡†è¿›è¡Œè¯„åˆ¤</li>
</ul>
<p><img src="https://peng-img.oss-cn-shanghai.aliyuncs.com/markdown-img/image-20220912151316029.png" alt="image-20220912151316029"></p>
<h4 id="4-1-4-1-æ€§èƒ½åŸºå‡†"><a href="#4-1-4-1-æ€§èƒ½åŸºå‡†" class="headerlink" title="4.1.4.1. æ€§èƒ½åŸºå‡†"></a>4.1.4.1. æ€§èƒ½åŸºå‡†</h4><ul>
<li>äººç±»æ°´å¹³ï¼ˆå¸¸ç”¨äºéç»“æ„åŒ–æ•°æ®ï¼Œå¦‚å›¾åƒã€è¯­éŸ³ã€æ–‡æœ¬ï¼‰</li>
<li>ç«äº‰å¯¹æ‰‹çš„ç®—æ³•è¡¨ç°</li>
<li>ç»éªŒ</li>
</ul>
<hr>
<ul>
<li>åŸºå‡†çº¿æ°´å¹³</li>
<li>è®­ç»ƒè¯¯å·®($J_{train}$)</li>
<li>äº¤å‰éªŒè¯è¯¯å·®($J_{cv}$)</li>
<li>å‰ä¸¤è€…ä¹‹é—´çš„å·® indicates <strong>bias</strong>ï¼Œåä¸¤è€…ä¹‹é—´çš„å·® indicates <strong>variance</strong></li>
</ul>
<p>ä¸€èˆ¬ 4%ä»¥ä¸Šçš„å·®è·å°±è®¤ä¸ºå¾ˆå¤§äº†</p>
<p><img src="https://peng-img.oss-cn-shanghai.aliyuncs.com/markdown-img/image-20220912151730402.png" alt="image-20220912151730402"></p>
<h3 id="4-1-5-å­¦ä¹ æ›²çº¿"><a href="#4-1-5-å­¦ä¹ æ›²çº¿" class="headerlink" title="4.1.5. å­¦ä¹ æ›²çº¿"></a>4.1.5. å­¦ä¹ æ›²çº¿</h3><h4 id="4-1-5-1-debug-ç®—æ³•çš„æ–¹æ³•"><a href="#4-1-5-1-debug-ç®—æ³•çš„æ–¹æ³•" class="headerlink" title="4.1.5.1. debug ç®—æ³•çš„æ–¹æ³•"></a>4.1.5.1. debug ç®—æ³•çš„æ–¹æ³•</h4><table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>è§£å†³</th>
</tr>
</thead>
<tbody><tr>
<td>æ›´å¤šè®­ç»ƒé›†</td>
<td>é«˜æ–¹å·®</td>
</tr>
<tr>
<td>å°è¯•æ›´å°çš„ç‰¹å¾é›†</td>
<td>é«˜æ–¹å·®</td>
</tr>
<tr>
<td>å¢åŠ ç‰¹å¾</td>
<td>é«˜åå·®</td>
</tr>
<tr>
<td>å¢åŠ å¤šé¡¹å¼é¡¹æ•°</td>
<td>é«˜åå·®</td>
</tr>
<tr>
<td>å‡å°‘ Î»</td>
<td>é«˜åå·®</td>
</tr>
<tr>
<td>å¢åŠ  Î»</td>
<td>é«˜æ–¹å·®</td>
</tr>
</tbody></table>
<hr>
<h4 id="4-1-5-2-ç¥ç»ç½‘ç»œåº”ç”¨"><a href="#4-1-5-2-ç¥ç»ç½‘ç»œåº”ç”¨" class="headerlink" title="4.1.5.2. ç¥ç»ç½‘ç»œåº”ç”¨"></a>4.1.5.2. ç¥ç»ç½‘ç»œåº”ç”¨</h4><p>æˆ‘ä»¬å¾€å¾€éœ€è¦åœ¨ keep a balance between bias and variance. ä½†æ˜¯ç¥ç»ç½‘ç»œç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªå…¨æ–°çš„è§†è§’å’Œæ–¹æ³•ã€‚å®ƒå¯ä»¥è‡ªåŠ¨å¸®æˆ‘ä»¬å®Œæˆæƒè¡¡ã€‚å…·ä½“è§£é‡Šå¦‚ä¸‹ï¼š</p>
<p><img src="https://peng-img.oss-cn-shanghai.aliyuncs.com/markdown-img/image-20220912152954919.png" alt="image-20220912152954919"></p>
<ul>
<li>tf ä»£ç </li>
</ul>
<p><img src="https://peng-img.oss-cn-shanghai.aliyuncs.com/markdown-img/image-20220912153956951.png" alt="image-20220912153956951"></p>
<h4 id="4-1-5-è¯¯å·®åˆ†æ"><a href="#4-1-5-è¯¯å·®åˆ†æ" class="headerlink" title="4.1.5 è¯¯å·®åˆ†æ"></a>4.1.5 è¯¯å·®åˆ†æ</h4><ul>
<li>äººå·¥æ£€æŸ¥ 100 ä¸ªæ•°æ®é›†ï¼Œå¹¶å°†å®ƒä»¬æŒ‰ç…§å…±åŒç‰¹å¾åˆ†ç±»</li>
<li>ç„¶åè¿›è¡Œä¸€äº›é’ˆå¯¹æ€§è¡¥ä¸ï¼Œæ¯”å¦‚æ·»åŠ ä¸€äº›æ›´åŠ å…·æœ‰é’ˆå¯¹æ€§çš„æ•°æ®é›†</li>
</ul>
<h2 id="4-2-æ•°æ®å¢å¼º"><a href="#4-2-æ•°æ®å¢å¼º" class="headerlink" title="4.2. æ•°æ®å¢å¼º"></a>4.2. æ•°æ®å¢å¼º</h2><ul>
<li>Data argumentation</li>
<li>é€šè¿‡å·²æœ‰çš„è®­ç»ƒé›†æ¥è¿›è¡Œæ–°çš„è®­ç»ƒï¼šæ¯”å¦‚æŠŠè®­ç»ƒé›† A image è¿›è¡Œä¸€äº›å˜åŒ–ï¼Œç„¶åé‡æ–°è¿›è¡Œè®­ç»ƒï¼ˆäººä¸ºçš„å¢å¤§è®­ç»ƒé›†ï¼‰<ul>
<li>æ³¨æ„ï¼šå¯¹æ•°æ®æ‰€ä½œçš„æ”¹å˜å’Œæ‰­æ›²ï¼Œåº”è¯¥æ˜¯æµ‹è¯•é›†ä¸­å™ªå£°æˆ–å˜å½¢çš„ä»£è¡¨<ul>
<li>éšæœºæ— æ„ä¹‰çš„å™ªå£°å’Œæ‰­æ›²æ˜¯æ²¡æœ‰æ„ä¹‰çš„</li>
</ul>
</li>
</ul>
</li>
<li>å¹¿æ³›çš„åº”ç”¨äºå›¾åƒå’ŒéŸ³é¢‘ä¸­</li>
</ul>
<p><img src="https://peng-img.oss-cn-shanghai.aliyuncs.com/markdown-img/image-20220913145331970.png" alt="image-20220913145331970"></p>
<p><img src="https://peng-img.oss-cn-shanghai.aliyuncs.com/markdown-img/image-20220913145418719.png" alt="image-20220913145418719"></p>
<h2 id="4-3-è¿ç§»å­¦ä¹ "><a href="#4-3-è¿ç§»å­¦ä¹ " class="headerlink" title="4.3. è¿ç§»å­¦ä¹ "></a>4.3. è¿ç§»å­¦ä¹ </h2><ul>
<li>å¯ä»¥ç”¨æ¥è‡ªä¸åŒä»»åŠ¡çš„æ•°æ®å®Œæˆå­¦ä¹ </li>
<li>åº”å¯¹æ•°æ®å°‘æˆ–æ•°æ®éš¾ä»¥è·å–çš„æƒ…å†µ</li>
</ul>
<p>ä»¥ä¸‹å›¾ä¸ºä¾‹ï¼šå…ˆåœ¨æœ‰ 1 million ä¸ªæ•°æ®çš„è®­ç»ƒé›†ä¸Šè®­ç»ƒå‡ºå¯ä»¥è¯†åˆ« 1000 ä¸ªç±»åˆ«çš„ç¥ç»ç½‘ç»œï¼ˆæ¯”å¦‚çŒ«ã€ç‹—ç­‰ç­‰â€¦ï¼‰ï¼Œéšåä¿æŒä¸Šè¿°ç¥ç»ç½‘ç»œé™¤äº† output å±‚å¤–çš„å‚æ•°ä¸å˜ï¼ˆæŠŠä¸Šè¿°ç¥ç»ç½‘ç»œé™¤äº† output å±‚ copy ä¸€éï¼‰ï¼Œè¿ç§»åˆ°æ‹Ÿè®­ç»ƒçš„æ•°æ®é›†ä¸Šè¿›è¡Œè®­ç»ƒã€‚è®­ç»ƒæœ‰ä¸¤ç§é€‰æ‹©ï¼š</p>
<ul>
<li>åªè®­ç»ƒ output å±‚çš„å‚æ•°</li>
<li>è®­ç»ƒæ‰€æœ‰å‚æ•°ã€‚ä½†æ˜¯ä»¥ copy çš„ç¥ç»ç½‘ç»œå‚æ•°ä½œä¸ºåˆå§‹å€¼</li>
</ul>
<p><img src="https://peng-img.oss-cn-shanghai.aliyuncs.com/markdown-img/image-20220913151057762.png" alt="image-20220913151057762"></p>
<ul>
<li>å…ˆåœ¨å¤§å‹æ•°æ®é›†ä¸Šè¿›è¡Œè®­ç»ƒï¼Œç„¶ååœ¨è¾ƒå°çš„æ•°æ®é›†ä¸Šè¿›ä¸€æ­¥å‚æ•°è°ƒä¼˜ï¼Œè¿™ä¸¤ä¸ªæ­¥éª¤ç§°ä¸º<strong>ç›‘ç£é¢„è®­ç»ƒ</strong>ï¼ˆsupervised pretrainingï¼‰</li>
<li>ç„¶åè¿è¡Œæ¢¯åº¦ä¸‹é™ç­‰ç®—æ³•åœ¨æ–°æ•°æ®é›†ä¸Šï¼Œè¿›è¡Œ<strong>å¾®è°ƒ</strong>ï¼ˆfine tuningï¼‰</li>
</ul>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼šé¢„è®­ç»ƒçš„ç¥ç»ç½‘ç»œå¿…é¡»å’Œæœ€ç»ˆéœ€è¦çš„ç¥åŠŸç½‘ç»œæ˜¯åŒä¸€ç±»å‹çš„ã€‚æ¯”å¦‚è¦è®­ç»ƒå›¾åƒç›¸å…³çš„ç¥ç»ç½‘ç»œï¼Œå¿…é¡»ä½¿ç”¨å›¾åƒç›¸å…³çš„é¢„è®­ç»ƒç¥ç»ç½‘ç»œ</p>
<h2 id="4-4-æ„å»º-ml-ç³»ç»Ÿçš„å‘¨æœŸ"><a href="#4-4-æ„å»º-ml-ç³»ç»Ÿçš„å‘¨æœŸ" class="headerlink" title="4.4. æ„å»º ml ç³»ç»Ÿçš„å‘¨æœŸ"></a>4.4. æ„å»º ml ç³»ç»Ÿçš„å‘¨æœŸ</h2><ol>
<li>ç¡®å®šé¡¹ç›®èŒƒå›´</li>
<li>æ”¶é›†æ•°æ®</li>
<li>è®­ç»ƒæ¨¡å‹</li>
<li>éƒ¨ç½²æ¨¡å‹</li>
</ol>
<p><img src="https://peng-img.oss-cn-shanghai.aliyuncs.com/markdown-img/image-20220913152206879.png" alt="image-20220913152206879"></p>
<h3 id="4-4-1-MLOps"><a href="#4-4-1-MLOps" class="headerlink" title="4.4.1. MLOps"></a>4.4.1. MLOps</h3><p><img src="https://peng-img.oss-cn-shanghai.aliyuncs.com/markdown-img/image-20220913153544268.png" alt="image-20220913153544268"></p>
<ul>
<li>æœ‰ç‚¹ç±»ä¼¼ DevOps</li>
</ul>
<h2 id="4-5-æ•°æ®å€¾æ–œ"><a href="#4-5-æ•°æ®å€¾æ–œ" class="headerlink" title="4.5. æ•°æ®å€¾æ–œ"></a>4.5. æ•°æ®å€¾æ–œ</h2><ul>
<li>è¯„ä»·ä¸€ä¸ªç½•è§ç±»çš„å­¦ä¹ ç®—æ³•æ€§èƒ½<ul>
<li>æ„é€ æ··æ·†çŸ©é˜µï¼ˆ2 * 2 çŸ©é˜µï¼‰</li>
<li>ç²¾åº¦ï¼ˆPrecisionï¼‰ï¼šè¯„ä»·ç®—æ³•æ˜¯å¦å‡†ç¡®ï¼šå½“ç®—æ³•è¯Šæ–­æœ‰ç—…æ—¶ï¼Œç¡®è¯Šçš„æ¦‚ç‡</li>
<li>å¬å›ç‡ï¼ˆRecallï¼‰ï¼šè¯„ä»·ç®—æ³•å¯¹çœŸæ­£ç—…äººæ˜¯å¦æœ‰ç”¨ï¼ˆæ ·æœ¬ä¸­çš„æ­£ä¾‹æœ‰å¤šå°‘è¢«é¢„æµ‹æ­£ç¡®äº†æˆ–æ‰¾çš„å…¨ï¼‰</li>
</ul>
</li>
</ul>
<p><img src="https://peng-img.oss-cn-shanghai.aliyuncs.com/markdown-img/image-20220913155045987.png" alt="image-20220913155045987"></p>
<h3 id="4-5-1-Trade-off-between-P-and-R"><a href="#4-5-1-Trade-off-between-P-and-R" class="headerlink" title="4.5.1. Trade off between P and R"></a>4.5.1. Trade off between P and R</h3><p>æé«˜ threshold ä¼šæé«˜ Precisionï¼Œé™ä½ Recall</p>
<ul>
<li>å»ºè®®æ ¹æ®å…·ä½“çš„åº”ç”¨åœºæ™¯è¿›è¡Œæƒè¡¡</li>
</ul>
<p><img src="https://peng-img.oss-cn-shanghai.aliyuncs.com/markdown-img/image-20220913160656496.png" alt="image-20220913160656496"></p>
<h4 id="4-5-1-1-F-score"><a href="#4-5-1-1-F-score" class="headerlink" title="4.5.1.1. F score"></a>4.5.1.1. F score</h4><ul>
<li>æƒè¡¡ Recall å’Œ Precision çš„å‚æ•°</li>
</ul>
<p>$$<br>F_1 \ scrore &#x3D; \frac{1}{\frac{1}{2}(\frac{1}{P} + \frac{1}{R})} &#x3D; 2\frac{PR}{P+R}<br>$$</p>
<ul>
<li>è¿™ä¸ªå¼å­ä¼šå…³æ³¨äºŒè€…ä¸­è¾ƒå°çš„éƒ¨åˆ†ï¼ˆå…¶å®å°±æ˜¯ P å’Œ R çš„è°ƒå’Œå¹³å‡å€¼ï¼‰</li>
</ul>
<p><img src="https://peng-img.oss-cn-shanghai.aliyuncs.com/markdown-img/image-20220913161128892.png" alt="image-20220913161128892"></p>
<h2 id="4-6-å†³ç­–æ ‘"><a href="#4-6-å†³ç­–æ ‘" class="headerlink" title="4.6. å†³ç­–æ ‘"></a>4.6. å†³ç­–æ ‘</h2><ul>
<li>Decision Tree</li>
</ul>
<h3 id="4-6-1-æ­¥éª¤"><a href="#4-6-1-æ­¥éª¤" class="headerlink" title="4.6.1. æ­¥éª¤"></a>4.6.1. æ­¥éª¤</h3><ul>
<li>é€‰æ‹©æ ¹èŠ‚ç‚¹çš„ç‰¹å¾</li>
<li>é€‰æ‹©åœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸ŠåŒºåˆ†çš„ç‰¹å¾ï¼ˆä¸ºäº†æœ€å¤§åŒ–çš„åˆ†ç±»ï¼Œä¿è¯åˆ†ç±»çº¯åº¦ purityï¼‰</li>
<li>ä½•æ—¶åœæ­¢æ ‘çš„åˆ’åˆ†ï¼ˆstop splittingï¼‰<ul>
<li>å½“ç»“ç‚¹é‡Œ 100%éƒ½æ˜¯åŒä¸€ç±»</li>
<li>å½“åˆ†è£‚ï¼ˆsplitï¼‰ç»“ç‚¹ä¼šå¯¼è‡´æ ‘è¶…è¿‡æœ€å¤§æ·±åº¦</li>
<li>å½“åˆ†è£‚ï¼ˆsplitï¼‰åå¯¹çº¯åº¦äº§ç”Ÿçš„å¢ç›Šå°äºé˜ˆå€¼ï¼ˆthresholdï¼‰</li>
<li>å½“ç»“ç‚¹é‡Œ examples çš„æ•°é‡å°äºé˜ˆå€¼ï¼ˆthresholdï¼‰</li>
</ul>
</li>
</ul>
<p><img src="https://peng-img.oss-cn-shanghai.aliyuncs.com/markdown-img/image-20220914111707277.png" alt="image-20220914111707277"></p>
<h3 id="4-6-2-ç†µ"><a href="#4-6-2-ç†µ" class="headerlink" title="4.6.2. ç†µ"></a>4.6.2. ç†µ</h3><ul>
<li>entropy</li>
<li>åº¦é‡æ ·æœ¬ä¸çº¯ç¨‹åº¦</li>
</ul>
<p><img src="https://peng-img.oss-cn-shanghai.aliyuncs.com/markdown-img/image-20220914112420889.png" alt="image-20220914112420889"></p>
<p>$$<br>p_0 \ &#x3D; \ 1\ - \ p_1 \<br>H(p_1) &#x3D; -p_1log_2(p_1) - p_0log_2(p_0) \<br>\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \  &#x3D; -p_1log_2(p_1) - (1-p_1)log_2(1-P_1) \<br>Note: 0log(0) &#x3D; 0<br>$$</p>
<h4 id="4-6-2-1-å¦‚ä½•åˆ©ç”¨ç†µåº¦é‡-node"><a href="#4-6-2-1-å¦‚ä½•åˆ©ç”¨ç†µåº¦é‡-node" class="headerlink" title="4.6.2.1. å¦‚ä½•åˆ©ç”¨ç†µåº¦é‡ node"></a>4.6.2.1. å¦‚ä½•åˆ©ç”¨ç†µåº¦é‡ node</h4><ul>
<li>ä½¿ç”¨åŠ æƒå¹³å‡ã€‚å› ä¸ºæˆ‘ä»¬è®¤ä¸ºåˆ†åˆ°äº†è¾ƒå¤š examples çš„åˆ†æ”¯çš„ç†µæ˜¯æ›´é‡è¦çš„</li>
</ul>
<p><img src="https://peng-img.oss-cn-shanghai.aliyuncs.com/markdown-img/image-20220914113505023.png" alt="image-20220914113505023"></p>
<h4 id="4-6-2-2-ä¿¡æ¯å¢ç›Š"><a href="#4-6-2-2-ä¿¡æ¯å¢ç›Š" class="headerlink" title="4.6.2.2. ä¿¡æ¯å¢ç›Š"></a>4.6.2.2. ä¿¡æ¯å¢ç›Š</h4><p>æ ¹èŠ‚ç‚¹çš„ç†µ - å­èŠ‚ç‚¹çš„åŠ æƒå¹³å‡ç†µ</p>
<p><img src="https://peng-img.oss-cn-shanghai.aliyuncs.com/markdown-img/image-20220914113723924.png" alt="image-20220914113723924"></p>
<ul>
<li>è®¡ç®—å…¬å¼</li>
</ul>
<p><img src="https://peng-img.oss-cn-shanghai.aliyuncs.com/markdown-img/image-20220914113852006.png" alt="image-20220914113852006"></p>
<h3 id="4-6-4-Decision-Tree-Learning"><a href="#4-6-4-Decision-Tree-Learning" class="headerlink" title="4.6.4. Decision Tree Learning"></a>4.6.4. Decision Tree Learning</h3><p><img src="https://peng-img.oss-cn-shanghai.aliyuncs.com/markdown-img/image-20220914114051924.png" alt="image-20220914114051924"></p>
<ul>
<li>building decision tree æ˜¯ä¸€ä¸ªé€’å½’è¿‡ç¨‹</li>
</ul>
<h3 id="4-6-5-one-hot-ç¼–ç "><a href="#4-6-5-one-hot-ç¼–ç " class="headerlink" title="4.6.5. one-hot ç¼–ç "></a>4.6.5. one-hot ç¼–ç </h3><p>ç”¨äºå¤„ç†ä¸æ­¢ 2 ç§å–å€¼çš„ç¦»æ•£å˜é‡</p>
<ul>
<li>å¦‚æœä¸€ä¸ªåˆ†ç±»ç‰¹å¾æœ‰ k ç§å¯èƒ½çš„å–å€¼ï¼Œé‚£ä¹ˆæŠŠè¿™ k ç§ç‰¹å¾æŒ‰ç…§ 0ã€1 è¿›è¡Œç¼–ç å–å€¼</li>
</ul>
<p><img src="https://peng-img.oss-cn-shanghai.aliyuncs.com/markdown-img/image-20220914120302571.png" alt="image-20220914120302571"></p>
<ul>
<li><p>å¦‚æœçœ‹ä»»ä½•ä¸€è¡Œï¼Œæ€»æœ‰ä¸€ä¸ªç‰¹å¾æ˜¯ 1ï¼Œå› æ­¤ç§°ä¹‹ä¸º one-hotï¼ˆç‹¬çƒ­ï¼‰ç¼–ç </p>
</li>
<li><p>one-hot ç¼–ç ä¸ä»…é€‚ç”¨äºå†³ç­–æ ‘ï¼Œè¿˜é€‚ç”¨äºç¥ç»ç½‘ç»œ</p>
</li>
</ul>
<h3 id="4-6-6-å¤„ç†è¿ç»­å˜é‡"><a href="#4-6-6-å¤„ç†è¿ç»­å˜é‡" class="headerlink" title="4.6.6. å¤„ç†è¿ç»­å˜é‡"></a>4.6.6. å¤„ç†è¿ç»­å˜é‡</h3><ul>
<li><p>å¯¹è¿ç»­å˜é‡è¿›è¡Œåˆ’åˆ†å¤„ç†ï¼ˆåˆ†ç±»ï¼‰ï¼Œå³å°†è¿ç»­å˜é‡åŒºé—´è®¾ç½®é˜ˆå€¼ï¼Œå°†å…¶åˆ†ä¸º 2 ä¸ªå­é›†</p>
</li>
<li><p>åˆ†ç±»çš„æ ‡å‡†æ˜¯è°è´¡çŒ®äº†æ›´å¤§çš„ä¿¡æ¯å¢ç›Š</p>
</li>
<li><p>ä¸€èˆ¬åˆ’åˆ†å€¼çš„å€™é€‰æ–¹æ³•æ˜¯ï¼šå°†å€¼ list æ’åºï¼Œç„¶åå–æ‰€æœ‰å€¼ä¹‹é—´çš„ä¸­ç‚¹</p>
</li>
</ul>
<p><img src="https://peng-img.oss-cn-shanghai.aliyuncs.com/markdown-img/image-20220914140944926.png" alt="image-20220914140944926"></p>
<h2 id="4-7-å›å½’é¢„æµ‹ä¸­çš„å†³ç­–æ ‘"><a href="#4-7-å›å½’é¢„æµ‹ä¸­çš„å†³ç­–æ ‘" class="headerlink" title="4.7. å›å½’é¢„æµ‹ä¸­çš„å†³ç­–æ ‘"></a>4.7. å›å½’é¢„æµ‹ä¸­çš„å†³ç­–æ ‘</h2><ul>
<li>å†³ç­–æ ‘ä¼šæ ¹æ®å¶å­ç»“ç‚¹ä¸­æ ·æœ¬æ•°æ®çš„å¹³å‡å€¼åšå‡ºé¢„æµ‹</li>
</ul>
<p><img src="https://peng-img.oss-cn-shanghai.aliyuncs.com/markdown-img/image-20220914141648061.png" alt="image-20220914141648061"></p>
<ul>
<li><p>åœ¨å›å½’é¢„æµ‹ä¸­ï¼Œå†³å®šç»“ç‚¹é€‰æ‹©å“ªç§åˆ’åˆ†ç­–ç•¥çš„æ ‡å‡†ä¸å†æ˜¯ç†µï¼Œè€Œæ˜¯<strong>å¸¦æƒæ–¹å·®</strong>ï¼ˆvarianceï¼‰</p>
</li>
<li><p>å°±åƒæœ€ç»ˆå†³ç­–æ ‘çš„è¡¡é‡å…¬å¼æ˜¯ä¿¡æ¯å¢ç›Šï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œè®¡ç®—çš„ä¹Ÿå®é™…ä¸Šæ˜¯æ–¹å·®å‡å°‘é‡</p>
</li>
</ul>
<p><img src="https://peng-img.oss-cn-shanghai.aliyuncs.com/markdown-img/image-20220914142137648.png" alt="image-20220914142137648"></p>
<h2 id="4-8-å†³ç­–æ ‘é›†åˆ"><a href="#4-8-å†³ç­–æ ‘é›†åˆ" class="headerlink" title="4.8. å†³ç­–æ ‘é›†åˆ"></a>4.8. å†³ç­–æ ‘é›†åˆ</h2><ul>
<li><p>ä½¿ç”¨å•ä¸ªå†³ç­–æ ‘çš„ç¼ºç‚¹æ˜¯ï¼šå…¶å¯¹æ•°æ®çš„å¾®å°å˜åŒ–éå¸¸æ•æ„Ÿã€‚(ä¸€æ—¦æ•°æ®å¾®å°å˜åŒ–ï¼Œé‚£ä¹ˆç»“ç‚¹çš„ä¿¡æ¯å¢ç›Šå¯èƒ½ä¼šå˜åŒ–å¾ˆå¤šï¼Œä»è€Œå¯¼è‡´å†³ç­–æ ‘å˜çš„å®Œå…¨ä¸åŒ)</p>
<ul>
<li>è§£å†³æ–¹æ³•ï¼šæ„å»ºæ›´å¤šçš„å†³ç­–æ ‘ï¼Œå³å†³ç­–æ ‘é›†åˆï¼Œä½¿å¾—é¢„æµ‹ç»“æœæ›´å¥å£®</li>
</ul>
</li>
<li><p>ä½¿ç”¨æ ‘é›†åˆï¼Œç„¶åéƒ½è¿è¡Œæ•°æ®ï¼Œè¿›è¡Œé¢„æµ‹ã€‚å¤šæ•°çš„ç»“æœå³ä¸ºé¢„æµ‹ç»“æœã€‚</p>
</li>
</ul>
<p><img src="https://peng-img.oss-cn-shanghai.aliyuncs.com/markdown-img/image-20220914143400270.png" alt="image-20220914143400270"></p>
<h3 id="4-8-1-æœ‰æ”¾å›æŠ½æ ·"><a href="#4-8-1-æœ‰æ”¾å›æŠ½æ ·" class="headerlink" title="4.8.1. æœ‰æ”¾å›æŠ½æ ·"></a>4.8.1. æœ‰æ”¾å›æŠ½æ ·</h3><ul>
<li>Sampling with replacement</li>
</ul>
<h3 id="4-8-2-éšæœºæ£®æ—ç®—æ³•"><a href="#4-8-2-éšæœºæ£®æ—ç®—æ³•" class="headerlink" title="4.8.2. éšæœºæ£®æ—ç®—æ³•"></a>4.8.2. éšæœºæ£®æ—ç®—æ³•</h3><h4 id="4-8-2-1-è¢‹è£…å†³ç­–æ ‘ç®—æ³•"><a href="#4-8-2-1-è¢‹è£…å†³ç­–æ ‘ç®—æ³•" class="headerlink" title="4.8.2.1. è¢‹è£…å†³ç­–æ ‘ç®—æ³•"></a>4.8.2.1. è¢‹è£…å†³ç­–æ ‘ç®—æ³•</h4><ul>
<li>å¯¹äºä¸€ä¸ªå¤§å°ä¸º m çš„è®­ç»ƒé›†<ul>
<li>ä½¿ç”¨æœ‰æ”¾å›æŠ½æ ·è·å¾—åŒæ ·å¤§å°ä¸º m çš„è®­ç»ƒé›†ï¼Œç„¶åè®­ç»ƒå‡ºä¸€ä¸ªå†³ç­–æ ‘</li>
<li>é‡å¤ä»¥ä¸Šè¿‡ç¨‹ç›´åˆ°è®­ç»ƒå‡ºéœ€è¦çš„å†³ç­–æ ‘æ•°é‡ï¼ˆä¸€èˆ¬æ˜¯ 100ï¼Œè®°ä¸º**<em>B</em>**ï¼‰</li>
</ul>
</li>
<li>é—®é¢˜<ul>
<li>æ ¹èŠ‚ç‚¹åŠå…¶é™„è¿‘çš„ç‰¹å¾ä»ç„¶ç›¸ä¼¼</li>
<li>å¯¼è‡´ç®—æ³•ä¸å¤Ÿç²¾ç¡®ï¼Œéœ€è¦æ”¹è¿›</li>
</ul>
</li>
</ul>
<h4 id="4-8-2-2-æ”¹è¿›æˆéšæœºæ£®æ—ç®—æ³•"><a href="#4-8-2-2-æ”¹è¿›æˆéšæœºæ£®æ—ç®—æ³•" class="headerlink" title="4.8.2.2. æ”¹è¿›æˆéšæœºæ£®æ—ç®—æ³•"></a>4.8.2.2. æ”¹è¿›æˆéšæœºæ£®æ—ç®—æ³•</h4><ul>
<li>åœ¨æ¯ä¸ªç»“ç‚¹ä¸­ï¼Œå½“éœ€è¦é€‰æ‹©ä¸€ä¸ªç‰¹å¾æ¥ split node æ—¶ï¼Œå¦‚æœæœ‰ n ä¸ªç‰¹å¾å¯ä»¥é€‰æ‹©ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¯æ¬¡<strong>éšæœºé€‰æ‹©</strong>kï¼ˆk &lt; n ï¼‰ä¸ªç‰¹å¾æ„æˆ n ä¸ªç‰¹å¾çš„å­é›†ï¼Œè®©ç®—æ³•åœ¨è¿™ä¸ªå­é›†ä¸­è¿›è¡Œé€‰æ‹©ï¼ˆå³è®¡ç®—ä¿¡æ¯å¢ç›Šç„¶åè¿›è¡Œ splitï¼‰</li>
<li>æ¯”å•ä¸€å†³ç­–æ ‘æ›´å¥å£®çš„åŸå› æ˜¯ï¼šéšæœºæ£®æ—ç®—æ³•æ¢ç´¢äº†æ›´å¤šè®­ç»ƒé›†å¾®å°å˜åŒ–çš„å¯èƒ½ï¼Œèƒ½å¤Ÿå¯¹æœ‰æ”¾å›å–æ ·è¿‡ç¨‹å¯¼è‡´çš„æ‰€æœ‰æ•°æ®å˜åŒ–è¿›è¡Œå¹³å‡ï¼Œä½¿å¾—è®­ç»ƒå‡ºæ¥çš„æ¨¡å‹æ›´ robust</li>
</ul>
<h3 id="4-8-3-XGBoost-å¢å¼ºå†³ç­–æ ‘ç®—æ³•"><a href="#4-8-3-XGBoost-å¢å¼ºå†³ç­–æ ‘ç®—æ³•" class="headerlink" title="4.8.3. XGBoost å¢å¼ºå†³ç­–æ ‘ç®—æ³•"></a>4.8.3. XGBoost å¢å¼ºå†³ç­–æ ‘ç®—æ³•</h3><ul>
<li>éå¸¸ç±»ä¼¼äºé’ˆå¯¹æ€§è®­ç»ƒï¼Œæ¯”å¦‚åˆ»æ„è®­ç»ƒä¸ç†Ÿç»ƒçš„ä¸€æ®µï¼Œè€Œä¸æ˜¯æ€»æ˜¯è®­ç»ƒæ•´é¦–æ›²å­</li>
</ul>
<p><img src="https://peng-img.oss-cn-shanghai.aliyuncs.com/markdown-img/image-20220914150804159.png" alt="image-20220914150804159"></p>
<ul>
<li>XGBoostï¼ˆeXtreme Gradient Boostingï¼‰<ul>
<li>å¢å¼ºå†³ç­–æ ‘çš„ä¸€ç§å¼€æºå®ç°</li>
<li>é«˜æ•ˆ</li>
<li>å¯¹é»˜è®¤æ‹†åˆ†æ¡ä»¶æœ‰å¾ˆå¥½çš„é€‰æ‹©</li>
<li>å†…ç½®æ­£åˆ™åŒ–ä»¥é˜²æ­¢è¿‡æ‹Ÿåˆ</li>
<li>å’Œ dl ä¸€æ ·ï¼Œæ˜¯ç®—æ³•ç«èµ›çš„çƒ­é—¨ç®—æ³•</li>
</ul>
</li>
</ul>
<p><img src="https://peng-img.oss-cn-shanghai.aliyuncs.com/markdown-img/image-20220914151101334.png" alt="image-20220914151101334"></p>
<h2 id="4-9-å†³ç­–æ ‘å’Œç¥ç»ç½‘ç»œçš„ä½¿ç”¨æ—¶æœº"><a href="#4-9-å†³ç­–æ ‘å’Œç¥ç»ç½‘ç»œçš„ä½¿ç”¨æ—¶æœº" class="headerlink" title="4.9. å†³ç­–æ ‘å’Œç¥ç»ç½‘ç»œçš„ä½¿ç”¨æ—¶æœº"></a>4.9. å†³ç­–æ ‘å’Œç¥ç»ç½‘ç»œçš„ä½¿ç”¨æ—¶æœº</h2><ul>
<li>å†³ç­–æ ‘å’Œæ ‘é›†åˆ<ul>
<li>å¯¹è¡¨æ ¼åŒ–ï¼ˆç»“æ„åŒ–ï¼‰tabularï¼ˆstructuredï¼‰æ•°æ®è¡¨ç°å¾ˆå¥½</li>
<li>ä¸å»ºè®®åœ¨éç»“æ„åŒ–æ•°æ®ä¸Šä½¿ç”¨ï¼ˆå›¾åƒã€éŸ³é¢‘ã€æ–‡æœ¬ï¼‰</li>
<li>è®­ç»ƒè¿…é€Ÿ</li>
<li>å°çš„å†³ç­–æ ‘å¯èƒ½æ˜¯äººç±»å¯ä»¥ç†è§£çš„ï¼ˆå¯è§£é‡Šæ€§ï¼‰</li>
</ul>
</li>
<li>ç¥ç»ç½‘ç»œ<ul>
<li>å¯¹ç»“æ„åŒ–å’Œéç»“æ„åŒ–æ•°æ®éƒ½è¡¨ç°è‰¯å¥½</li>
<li>æ¯”å†³ç­–æ ‘æ…¢ï¼ˆè®­ç»ƒæ—¶é•¿ç­‰ï¼‰</li>
<li>å¯ä»¥ä½¿ç”¨è¿ç§»å­¦ä¹ ï¼ˆè€Œå†³ç­–æ ‘ä¸è¡Œï¼‰</li>
<li>å½“æ„å»ºå¤šä¸ªæ¨¡å‹å…±åŒåä½œçš„ç³»ç»Ÿæ—¶ï¼Œç¥ç»ç½‘ç»œæ¨¡å‹æ›´å®¹æ˜“ä¸²åœ¨ä¸€èµ·ï¼ˆå†³ç­–æ ‘ä¸€æ¬¡åªèƒ½è®­ç»ƒä¸€ä¸ªï¼‰</li>
</ul>
</li>
</ul>

  </div>
  
    
      <a id="older" class="blog-nav" href="/article/Coursera-Machine-Learning-03/">OLDER&nbsp;&gt;</a>
      
        
          <a id="newer" class="blog-nav" href="/article/2022-history-review/">&lt;&nbsp;NEWER</a>
          
            
</div>
        <div class="footer">
  
    <div class="footer-more">
      
        <a target="_blank" rel="noopener" href="https://github.com/Pengzna">Copyright Â© Pengzna 2021-present</a>
        
    </div>
  
</div>

      </div>

      <div class="back-to-top hidden">
  <a href="javascript: void(0)">
    <i class="iconfont icon-chevronup"></i>
  </a>
</div>


<script src="/js/backtotop.js"></script>



      
  <div class="search-icon" id="search-icon">
    <a href="javascript: void(0)">
      <i class="iconfont icon-search"></i>
    </a>
  </div>

  <div class="search-overlay hidden">
    <div class="search-content" tabindex="0">
      <div class="search-box">
        <div class="search-title">
          <!-- <span class="search-icon-input">
            <a href="javascript: void(0)">
              <i class="iconfont icon-search"></i>
            </a>
          </span> -->
          
            <input type="text" class="search-input" id="search-input" placeholder="æœç´¢">
          
          <span class="search-close-icon" id="search-close-icon">
            <a href="javascript: void(0)">
              <i class="iconfont icon-close"></i>
            </a>
          </span>
        </div>
        <div class="search-result" id="search-result"></div>
      </div>
    </div>
  </div>

  <script type="text/javascript">
    var inputArea = document.querySelector("#search-input")
    var searchOverlayArea = document.querySelector(".search-overlay")

    // inputArea.onclick = function() {
    //   getSearchFile()
    //   this.onclick = null
    // }

    inputArea.onkeydown = function() {
      if(event.keyCode == 13)
        return false
    }

    function openOrHideSearchContent() {
      let isHidden = searchOverlayArea.classList.contains('hidden')
      if (isHidden) {
        searchOverlayArea.classList.remove('hidden')
        document.body.classList.add('hidden')
        inputArea.focus()
        getSearchFile()
      } else {
        searchOverlayArea.classList.add('hidden')
        document.body.classList.remove('hidden')
      }
    }

    function blurSearchContent(e) {
      if (e.target === searchOverlayArea) {
        openOrHideSearchContent()
      }
    }

    document.querySelector("#search-icon").addEventListener("click", openOrHideSearchContent, false)
    document.querySelector("#search-close-icon").addEventListener("click", openOrHideSearchContent, false)
    searchOverlayArea.addEventListener("click", blurSearchContent, false)

    var searchFunc = function (path, search_id, content_id) {
      'use strict';
      var $input = document.getElementById(search_id);
      var $resultContent = document.getElementById(content_id);
      $resultContent.innerHTML = "<ul><span class='local-search-empty'><span></ul>";
      // $resultContent.innerHTML = "<ul><span class='local-search-empty'>First search, index file loading, please wait...<span></ul>";
      $.ajax({
        // 0x01. load xml file
        url: path,
        dataType: "xml",
        success: function (xmlResponse) {
          // 0x02. parse xml file
          var datas = $("entry", xmlResponse).map(function () {
            return {
              title: $("title", this).text(),
              content: $("content", this).text(),
              url: $("url", this).text()
            };
          }).get();
          $resultContent.innerHTML = "";

          $input.addEventListener('input', function () {
            // 0x03. parse query to keywords list
            var str = '<ul class=\"search-result-list\">';
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            $resultContent.innerHTML = "";
            if (this.value.trim().length <= 0) {
              return;
            }
            // 0x04. perform local searching
            datas.forEach(function (data) {
              var isMatch = true;
              var content_index = [];
              if (!data.title || data.title.trim() === '') {
                data.title = "Untitled";
              }
              var orig_data_title = data.title.trim();
              var data_title = orig_data_title.toLowerCase();
              var orig_data_content = data.content.trim().replace(/<[^>]+>/g, "");
              var data_content = orig_data_content.toLowerCase();
              var data_url = data.url;
              var index_title = -1;
              var index_content = -1;
              var first_occur = -1;
              // only match artiles with not empty contents
              if (data_content !== '') {
                keywords.forEach(function (keyword, i) {
                  index_title = data_title.indexOf(keyword);
                  index_content = data_content.indexOf(keyword);

                  if (index_title < 0 && index_content < 0) {
                    isMatch = false;
                  } else {
                    if (index_content < 0) {
                      index_content = 0;
                    }
                    if (i == 0) {
                      first_occur = index_content;
                    }
                    // content_index.push({index_content:index_content, keyword_len:keyword_len});
                  }
                });
              } else {
                isMatch = false;
              }
              // 0x05. show search results
              if (isMatch) {
                str += "<li><a href='" + data_url + "' class='search-result-title'><h2>" + orig_data_title + "</h2></a>";
                var content = orig_data_content;
                if (first_occur >= 0) {
                  // cut out 100 characters
                  var start = first_occur - 20;
                  var end = first_occur + 80;

                  if (start < 0) {
                    start = 0;
                  }

                  if (start == 0) {
                    end = 100;
                  }

                  if (end > content.length) {
                    end = content.length;
                  }

                  var match_content = content.substr(start, end);

                  // highlight all keywords
                  keywords.forEach(function (keyword) {
                    var regS = new RegExp(keyword, "gi");
                    match_content = match_content.replace(regS, "<span class=\"search-keyword\">" + keyword + "</span>");
                  });

                  str += "<h3 class=\"search-result-abstract\">" + match_content + "...</h3>"
                }
                str += "<hr></li>";
              }
            });
            str += "</ul>";
            if (str.indexOf('<li>') === -1) {
              return $resultContent.innerHTML = "<ul><span class='local-search-empty'>No result<span></ul>";
            }
            $resultContent.innerHTML = str;
          });
        },
        error: function(xhr, status, error) {
          $resultContent.innerHTML = ""
          if (xhr.status === 404) {
            $resultContent.innerHTML = "<ul><span class='local-search-empty'>The search.xml file was not found, please refer toï¼š<a href='https://github.com/leedom92/hexo-theme-leedom#configuration' target='_black'>configuration</a><span></ul>";
          } else {
            $resultContent.innerHTML = "<ul><span class='local-search-empty'>The request failed, Try to refresh the page or try again later.<span></ul>";
          }
        }
      });
      $(document).on('click', '#search-close-icon', function() {
        $('#search-input').val('');
        $('#search-result').html('');
      });
    }

    var getSearchFile = function() {
        var path = "/search.xml";
        searchFunc(path, 'search-input', 'search-result');
    }
  </script>




    </div><!-- hexo-inject:begin --><!-- hexo-inject:end -->
  </body>
</html>
